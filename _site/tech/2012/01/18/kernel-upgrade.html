<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Keith Millar - Kernel Upgrade</title>
	
	<meta name="description" content="">
	
	<meta name="author" content=" Keith Millar">
	<link rel="stylesheet" href="/css/body.css"> 
<!--	<link rel="stylesheet" href="/css/left-container.css"> -->
	<link rel="stylesheet" href="/css/ubuntu-fonts.css"> 
	<!--<link rel="stylesheet" href="/css/fonts.css">-->
	<link rel="stylesheet" href="/css/pygments.css"> 
	<link rel="icon" href="/css/images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="/css/images/favicon.ico">
</head>
<body>

<div id="wrapper">
	<header><!-- Start Header -->
	<ul id="nav">
  <li><a href="/">Home</a></li>
  <li><a href="/tech.html">Tech</a></li>
  <li><a href="/recipes.html">Recipes</a></li>
  <li><a href="/archive.html">Archive</a></li>
</ul>

	</header><!-- End Header -->
	<section><!-- Start Column 1-->
<h1>Kernel Upgrade</h1>
<hr size="4" color="black">
 <p>emerge -P gentoo-sources to remove oldest kernel before installing latest kernel</p>

<p>In most cases, temporary files used during compilation will still remain under the appropriate source directory under <span style='color:
red;'>/usr/src</span>. It is safe to remove these using rm.</p>

<p>You can also safely delete any modules that were used by this kernel. This can be done by removing the appropriate directories under <span style='color:
red;'>/lib/modules/</span> that relate to the kernel versions you are removing. Be careful not to delete modules belonging to kernels that you still use!</p>

<p>Finally, you can mount your /boot partition and remove the bzImage file(s) for the kernel(s) you are pruning. You should also edit your boot loader configuration so that it no longer references such kernel(s).</p>

<p>emerge -av gentoo-sources to install latest kernel</p>

<p>genkernel &#8211;menuconfig &#8211;bootloader=grub all</p>

<p>module-rebuild rebuild</p>

<p>check grub for correct syntax</p>

<p>Advanced: Using your old kernel .config to configure a new one It is sometimes possible to save time by re-using the configuration file from your old kernel when configuring the new one. Note that this is generally unsafe &#8211; too many changes between every kernel release for this to be a reliable upgrade path.</p>

<p>The only situation where this is appropriate is when upgrading from one Gentoo kernel revision to another. For example, the changes made between gentoo-sources-2.6.9-r1 and gentoo-sources-2.6.9-r2 will be very small, so it is usually OK to use the following method. However, it is not appropriate to use it in the example used throughout this document: upgrading from 2.6.8 to 2.6.9. Too many changes between the official releases, and the method described below does not display enough context to the user, often resulting in the user running into problems because they disabled options that they really did not want to.</p>

<p>Reusing your old config with genkernel</p>

<p>cd /etc/kernels cp kernel-config-x86-2.6.9-gentoo-r1 kernel-config-x86-2.6.9-gentoo-r2 genkernel all</p>

<p><strong>KERNEL</strong></p>

<p>Processor type Core 2/newer Xeon</p>

<p>To enable Freeview in kernel Go to:-</p>

<p><em>DEVICE DRIVERS</em>MULTIAMEDIA SUPPORT <em>DVB/ATSC ADAPTERS (NEW)</em>ENABLE SUPPORT FOR VARIOUS USB DVB DEVICES and select required from list.</p>
<!-- Published date -->
<p>Published:
<date title="2012-01-18T00:00:00+00:00" datetime="2012-01-18T00:00:00+00:00" pubdate>
 <span class="month"><abbr>January</abbr></span>
 <span class="day">18</span>
 <span class="year">2012</span>
 </date></p>

 <p align="center">                       <a href="/recipes/2012/01/18/creamy-chicken-dip.html" Creamy Chicken Dip">&laquo; Creamy Chicken Dip</a>
                                
                                
                          | 
                                 
                                 
                    <a href="/recipes/2012/01/18/lasagne.html" Lasagne / Bolognase Sauce">Lasagne / Bolognase Sauce &raquo;</a></p>
                                 


	</section><!-- end Column 1 -->
	<footer><!-- Start Footer -->
	<hr size="1" width="95%" align="center" color="black">
<div align="right"><p>&copy; 2013 Keith Millar </p></div>
<hr size="1" width="95%" align="center" color="black">

	</footer><!-- End Footer -->
</div>
</body>
</html>
